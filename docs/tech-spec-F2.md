# Техническое задание — Фаза 2 (Расширение «Запросы и идеи» → поддержка проектов)

## 1. Назначение и цели Фазы 2
- Дополнить идеологию Ф1 и обеспечить полный цикл сопровождения одобренных идей после решения проектного комитета (ПК): кастомный личный кабинет стейкхолдера, карточка проекта, управление задачами и документами через Bitrix24.
- Интегрировать кастомные интерфейсы с сервисом совместной работы Bitrix (Задачи + Диск) для контроля внедрения.
- Подготовить расширенную отчётность для координатора и стейкхолдера (статусы проектов, активность команд).

## 2. Границы Фазы 2 (изменения относительно Ф1)
В Ф1 уже реализованы Банк инноваций, кастомный ЛК участника, CRM-интерфейсы модератора/стейкхолдера и базовые уведомления. Ф2 включает:
1. Кастомный личный кабинет стейкхолдера с проектным портфелем, карточками проектов и отчётностью.
2. Преобразование идеи → проект: карточка проекта, связь с исходной идеей, управление статусами.
3. Интеграция с сервисом совместной работы Bitrix24 (задачи, документы, коммуникации).
4. Расширенные уведомления и отчёты (координатор, стейкхолдер, участник).
5. Подготовка экспортов/выгрузок для проектного комитета и руководителей.
Функции Ф3 (событийная повестка, публичные страницы проектов, внешняя аналитика) остаются вне Ф2.

## 3. Роли и доступы (изменения/дополнения)
| Роль | Новые возможности Ф2 |
|------|----------------------|
| Стейкхолдер | Кастомный ЛК с портфелем проектов, мониторинг задач, отчётность. |
| Участник/Команда | Доступ к проектным задачам в Bitrix24, загрузка документов, взаимодействие внутри проекта. |
| Координатор | Управление правами доступа, обзор сводных отчётов по портфелю, поддержка ПК. |
| Модератор | Передача идеи в проект, контроль корректности статусов и доступов. |
| Эксперты/Менторы/Трекеры | Получают роль наблюдателей/исполнителей в Bitrix24 (в рамках конкретных проектов). |
| Гость | Без изменений (только публичная витрина).

## 4. Ключевые сущности и их развитие
- **Идея** — остаётся основой Ф1 (статусы без изменений). На этапе «Принята» инициируется создание проекта.
- **Проект** — структура для внедрения одобренной идеи. Статусы: Инициация → Планирование → Реализация → Контроль → Завершён → Архив. Статусы отображаются в кастомном ЛК стейкхолдера и в сервисе совместной работы.
- **Карточка проекта** — хранит ключевые поля: название, инициатор, описание внедрения, ожидаемый эффект, KPI, даты этапов, состав команды, ссылки на документы и задачи.
- **Задача (Bitrix24)** — сущность Bitrix (исполнитель, наблюдатель, срок, чек-листы). Привязана к проекту и отображается в канбане/отчётах.
- **Документ проекта** — файл Bitrix Диска, структурированный по папкам (Требования, План, Отчёты).
- **Отчёт** — агрегированные показатели (прогресс задач, активность команды, соблюдение сроков, риск-лист).

## 5. Основные пользовательские сценарии
### 5.1 Стейкхолдер
1. Просматривает портфель проектов в кастомном ЛК: карточки с индикаторами прогресса, KPI, ссылками на документы и задачи.
2. Открывает карточку проекта, контролирует стадии, обновляет дедлайны/приоритеты, оставляет комментарии.
3. Инициирует заседание ПК: формирует отчёт (PDF/Excel) с данными о статусах и активности.
4. Подписывает проект на завершающем этапе (статус «Завершён») и переводит в архив.

### 5.2 Участник/Команда
1. Получает уведомление о назначении в проект, входит в Bitrix24-портал задачи, проверяет чек-листы.
2. Загружает документы (презентации, расчёты) в структуру проекта, отмечает актуальность.
3. Обновляет статус задач, фиксирует фактические даты, отмечает проблемы/риски в комментариях.
4. Получает уведомления об изменениях (новые задачи, упоминания, срок подошёл).

### 5.3 Координатор
1. Управляет правами доступа (кто видит/редактирует задачи и документы).
2. Подготавливает сводные отчёты по всему портфелю (статусы проектов, проблемы, активность).
3. Контролирует прохождение этапов: уведомления о задержках, автоматические напоминания.

### 5.4 Модератор
1. После решения стейкхолдера переводит идею в «Архив» и автоматически инициирует проект (создание карточки и структуры в Bitrix).
2. Обеспечивает корректность данных: проверяет заполненность полей и связь между идеей и проектом.

## 6. Функциональные требования
### 6.1 Кастомный ЛК стейкхолдера
- Портфель проектов (грид/карточки): название, статус, направление, команда, ближайшие задачи, ссылочные кнопки.
- Фильтры: направление, статус, инициатор, ключевые даты.
- Проектная панель: вкладки «Обзор», «Задачи», «Документы», «Комментарии», «Отчёты».
- Экспорт данных (Excel/PDF) для ПК и руководителей.

### 6.2 Карточка проекта (кастомная страница)
- Поля: название, инициатор, идея-источник, описание внедрения, ожидаемый эффект, KPI/метрики, даты этапов, состав команды (ролей), ответственные за задачи, статус проекта.
- Прогресс-бар по этапам (Инициация → … → Архив).
- Ссылки на Bitrix: список задач (фильтр по статусу), папки документов, чат.
- Журнал событий: ключевые изменения статусов, дедлайнов, добавление документов.

### 6.3 Интеграция с Bitrix24
- Создание структуры проекта при переводе идеи в «Архив»: папки Диска, шаблон задач.
- Синхронизация статусов задач и показателей (REST/встроенные вебхуки Bitrix).
- Отображение счётчиков (выполнено/в работе/просрочено) в кастомном ЛК.
- Управление правами: стейкхолдер — владелец, координатор — админ, участники — исполнители/наблюдатели.

### 6.4 Отчётность и уведомления
- Отчёт «Статусы проектов» (по направлениям, ответственным).
- Отчёт «Активность команды» (количество завершённых задач, комментариев, загруженных документов).
- Уведомления стейкхолдеру: задержки задач, повышение риска, новые документы.
- Уведомления координатору: эскалации, смена ответственных, запросы доступа.
- Уведомления участникам: новые задачи, дедлайны, упоминания, комментарии.

### 6.5 Администрирование и права
- Ролевая модель: проектный владелец, координатор, исполнитель, наблюдатель (привязка к группам Bitrix).
- Управление ролями осуществляется координатором через интерфейс Bitrix (заявка → одобрение).
- Логирование действий (создание/изменение задач, документов, комментариев).

## 7. Интерфейсы и навигация
- Центральный хедер (из Ф1) без изменений: «Банк инноваций», «Конкурсы», заглушки «Медиасентр/Обучение», кнопка «Войти».
- Внутри кастомного ЛК стейкхолдера добавляются пункты: «Портфель проектов», «Отчёты», «Настройки доступа».
- Страницы, которые ещё не реализованы (публичный проект, мероприятия), отображаются заглушками с ссылкой «Вернуться в портфель».

## 8. Интеграции и технические требования
- Bitrix24 REST API (задачи, списки, диск): коннектор для синхронизации статусов и документов.
- Авторизация участников в Bitrix24 через AD/LDAP (по текущей схеме организации).
- Журнал аудита: сохранение ключевых действий в лог-файл / БД.
- Производительность: портфель проектов загружается за ≤ 2 сек при портефеле до 100 проектов; доска задач — стандарт Bitrix24.

## 9. Уведомления (детализация)
| Событие | Получатель | Канал | Действие |
|---------|------------|-------|----------|
| Идея переведена в проект | Стейкхолдер, координатор, команда | e-mail + push Bitrix | Сообщение со ссылкой на проект. |
| Задача просрочена | Исполнитель, координатор | push Bitrix + e-mail | Предупреждение, ссылка на задачу. |
| Новый документ | Стейкхолдер, исполнитель | push Bitrix | Сообщение с указанием файла. |
| Изменение статуса проекта | Стейкхолдер, координатор | e-mail | Отчёт и напоминание о следующих шагах. |
| Запрос доступа | Координатор | e-mail + Bitrix | Заявка на выдачу прав. |

## 10. Отчёты и аналитика
- «Портфель проектов»: сводка по статусам, направлениям, ответственным (таблица + диаграмма).
- «Активность команды»: количество задач, закрытых в период, количество комментариев и документов.
- «Соблюдение сроков»: % просроченных задач, средняя задержка.
- Выгрузка в Excel/PDF для ПК и руководителей.

## 11. Ограничения и вне объёма Ф2
- Публичные страницы проектов и интеграция с внешними BI — Ф3.
- Автоматизированная оценка KPI (мониторинг фактического эффекта) — проект последующих фаз.
- Интеграция с внешними DMS/ECM и RPA — за рамками Ф2.

## 12. Критерии приёмки Ф2
1. Идея, переведённая в «Архив», автоматически порождает карточку проекта и структуру Bitrix (папки + задачи).
2. Стейкхолдер в ЛК видит портфель проектов, фильтры, карточки и может открыть подробный просмотр.
3. Статусы проекта и задач синхронизируются между кастомным интерфейсом и Bitrix24.
4. Команда проектов получает доступ к задачам и документам в Bitrix24, уведомления работают.
5. Отчёты «Статусы проектов» и «Активность команды» формируются и выгружаются.
6. Права доступа позволяют разграничивать просмотр и редактирование (логируется).
7. Уведомления по основным событиям приходят вовремя (в том числе просрочки).

## 13. Зависимости и подготовка
- Актуализация списков пользователей и групп в Bitrix24 (AD-синхронизация).
- Настройка хранилища документов (Bitrix24 On-Premise, проверка квот).
- Подготовка шаблонов задач/чек-листов и структуры папок (согласовано со стейкхолдерами).
- Обновление инструкций для ролей (стейкхолдер, координатор, исполнитель).

## 14. Глоссарий (Ф2)
| Термин | Определение |
|--------|-------------|
| Идея | Ответ участника на запрос (статусы Ф1, до передачи в проект). |
| Проект | Структура внедрения после перевода идеи в «Архив» (управление задачами/документами). |
| Портфель проектов | Список проектов стейкхолдера с ключевыми показателями. |
| Задача | Единица работы в Bitrix24 (исполнитель, наблюдатель, дедлайн, чек-лист). |
| Документ проекта | Файл в Bitrix24, структурированный по папкам. |
| Координатор | Роль, управляющая доступами и отчётами в проектных инструментах. |
| ПК (проектный комитет) | Орган, утверждающий переход идеи в проект и контролирующий внедрение. |

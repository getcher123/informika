# Расширенное описание интерфейсов Informika

Документ раскрывает состав экранов и элементов пользовательского интерфейса с детализацией по ролям, основан на `docs/interface-elements.md`, `docs/tech-spec-F2-full.md` и связанных ТЗ. Формулировки и подписи приведены в тех же названиях, что и в макетах и требованиях.

> Правила визуальных индикаторов и наборы значений:
> - Все статусы отображаются через круглый индикатор (цветная точка + подпись). Запросы: `На сборе идей`, `Закрыт`. Идеи: `Черновик`, `На модерации`, `На доработке`, `На рассмотрении`, `Одобрена`, `Отклонена`, `Архив`. Заявки: `На рассмотрении`, `Принята`, `Отклонена`, `Архив`.
> - Цветные бейджи применяются только для направления (`Строительство`, `Эксплуатация`, `Безопасность`, `Цифровизация`, `Клиентский сервис`, `Другое`), времени (`Сегодня`, `Вчера`, `Ближайший дедлайн`) и дедлайнов (оттенки: `Норма`, `Предупреждение`, `Просрочено`).
> - Бейдж стадии идеи принимает значения `Одобрена`, `Готово к ПК`, `Готово к НТК`. Ролевые бейджи заявок/команды: `Тимлид`, `Аналитик`, `Разработчик`, `Тестировщик`, `Коммуникационный специалист`, `Эксперт/Ментор`, `Дизайнер`, `DevOps/Инженер внедрения`.
> - Индикатор `+N` всегда показывает количество новых событий внутри карточки и располагается рядом с названием/иконкой.

## 1. Главная страница

### 1.1 Публичная витрина (гость/неавторизованный пользователь)
- **Глобальный хедер**: логотип (клик по нему ведёт на главную), пункты меню `Банк инноваций`, `Конкурсы`, заглушки `Медиасентр`, `Обучение`, кнопка `Войти` (после авторизации заменяется на аватар). Заглушки открывают модальное сообщение «Раздел появится в следующей фазе».
- **Промо-блок «Как принять участие?»**: две карточки CTA `Стать участником` (кнопка ведёт на регистрацию) и `Подать заявку` (кнопка ведёт к каталогу запросов). У каждой карточки: заголовок, описание, кнопка.
- **Промо-блок «Стать участником»**: крупный баннер с описанием программы, списком преимуществ, кнопкой `Перейти к регистрации`.
- **Футер** (если используется в макете): копирайт, контакты, кнопка `Политика обработки ПДн`.

### 1.2 Авторизованный пользователь
- Хедер идентичен, но кнопка `Войти` заменяется на `Аватар + имя`. Клик открывает меню: `Личный кабинет`, `Выйти`.

## 2. Страница «Банк инноваций»

### 2.1 Общая панель фильтров (видна всем ролям)
- Dropdown `Статус запроса` (значения: Все, На сборе идей, Закрыт).
- Dropdown `Направление` (Строительство, Эксплуатация, Безопасность, Цифровизация, Клиентский сервис, Другое).
- Поле `Автор` с автодополнением по ФИО стейкхолдеров.
- Строка поиска «Введите название или ключевые слова».
- Переключатель сортировки (`По дедлайну`, `По дате публикации`).

-### 2.2 Карточка запроса (грид)
- **Шапка**: бейдж направления (цветовой набор: `Строительство`, `Эксплуатация`, `Безопасность`, `Цифровизация`, `Клиентский сервис`, `Другое`), круглый индикатор статуса (`На сборе идей`, `Закрыт`), иконка `+N`, если есть непросмотренные идеи.
- **Основной блок**: название (кликабельно и ведёт внутрь), 2 строки описания, подпись владельца (ФИО, подразделение).
- **Подвал**: пара `Дедлайн — <дата>`, счётчик `Идей: N`, единственная кнопка `Подробнее`.

### 2.3 Поведение по ролям
- **Гость**: видит каталог, при попытке перейти к действиям («Подать идею») внутри карточки получает запрос авторизации.
- **Участник**: выполняет все действия (подача идеи, просмотр статусов) внутри раскрытой карточки; в плитке доступна только кнопка `Подробнее`.
- **Стейкхолдер (владелец)**: карточка помечается бейджем «Мой запрос», а кнопки `Редактировать/Закрыть` расположены внутри страницы запроса.
- **Модератор**: работает исключительно через подготовленную CRM Bitrix24; в портале видит только read-only данные и ссылки.

## 3. Карточка запроса

### 3.1 Общая структура карточки запроса
- **Шапка**: название, направление (список направлений см. выше), индикатор статуса (`На сборе идей`, `Закрыт`), дедлайн (бейдж времени: `Сегодня`, `В ближайшие 7 дней`, `Просрочено`), индикатор `+N`, блок внутренних кнопок по роли (`Редактировать`, `Закрыть`, `Подать идею`, действия модерации).
- **Инфоблок**: короткое описание, счётчик `Подано идей`, список вложений (название, тип, размер, иконка скачивания).
- **Секции страницы (расположены последовательно):**
  1. `Проблема/Цель`
  2. `Критерии принятия`
  3. `Сроки`
  4. `Материалы`
  5. `Комментарии` — единая лента сообщений (модератор, стейкхолдер, координатор, участник) с формой ответа
  6. `Ссылки на Bitrix24`
- **Блок «Идеи по запросу»**: грид компактных карточек (см. раздел 4) с локальными фильтрами «Все / Новые / На рассмотрении». Все элементы отображаются в одной колонке без вкладок или боковых панелей.

### 3.2 Роль: гость / участник
- Кнопка `Подать идею` (активна только при статусе «На сборе идей»). Неавторизованный пользователь получает диалог «Авторизуйтесь, чтобы подать идею».
- Навигация осуществляется через хлебные крошки (`Банк инноваций → Запрос`); отдельная кнопка «Вернуться к каталогу» не используется.

### 3.3 Роль: стейкхолдер (владелец)
- Блок `Управление запросом`: кнопки `Редактировать запрос`, `Закрыть запрос`, индикатор `+N новых идей`.
- В гриде идей появляется блок `Решение` для каждой идеи: `Одобрить`, `Отправить на доработку`, `Отклонить`.

### 3.4 Роль: модератор
- В портале модератор не проводит действий; ему доступен просмотр и кнопка `Открыть в Bitrix24`. Комментарии и решения фиксируются через CRM Bitrix и отображаются в общей ленте `Комментарии`.

### 3.5 Модальное окно «Отправить на доработку» (стейкхолдер; модератор инициирует из Bitrix24)
- Поле `Причина возврата` (textarea, обязательное).
- Подвал: кнопки `Отправить`, `Отмена`, подсказка «Автор получит уведомление».

### 3.6 Страница «Создание идеи»
- Breadcrumb «Банк инноваций → <Запрос> → Новая идея», кнопка `Назад к запросу`.
- Форма:
  - `Название идеи*` (input, до 100 символов).
  - `Краткое описание*` (textarea до 1000 знаков).
  - `Ожидаемый эффект` (textarea).
  - `Направление` (dropdown с вариантами `Строительство`, `Эксплуатация`, `Безопасность`, `Цифровизация`, `Клиентский сервис`, `Другое`; предзаполняется из запроса, можно изменить).
  - `Файлы` (drag&drop, подпись «PDF/DOCX/XLSX до 10 МБ»).
  - `Ссылки` (input для URL, кнопка `Добавить ссылку`).
  - `Согласие на обработку ПДн*` (чекбокс).
- Кнопки формы: `Сохранить черновик`, `Отправить на модерацию`, `Отмена`.

## 4. Карточка идеи

-### 4.1 Карточка идеи (унифицированная структура)
- **Шапка**: название, бейдж направления (цветной — `Строительство`, `Эксплуатация`, `Безопасность`, `Цифровизация`, `Клиентский сервис`, `Другое`), круглый индикатор статуса (значения: `Черновик`, `На модерации`, `На доработке`, `На рассмотрении`, `Одобрена`, `Отклонена`, `Архив`), бейдж стадии (`Одобрена`, `Готово к ПК`, `Готово к НТК`), кнопка `Открыть запрос`, внутренние кнопки по роли (решения стейкхолдера, редактирование автора и т.п.). В списках идей отображается только `Подробнее`.
- **Секции страницы (расположены одной колонкой без вкладок):**
  1. `Описание` (текст, метрики, плашка `Мои документы` для автора).
  2. `Комментарии` (лента сообщений с полем ввода).
  3. `Вложения` (таблица файлов).
  4. `Команда` (состав ролей, кнопка `Вступить в команду`/плашка статуса участия; для координатора — только кнопка `Открыть в Bitrix24`).
  5. `Заявки в команду` (список входящих/отправленных заявок, управляется автором; координатор работает через Bitrix24).
  6. `Решение стейкхолдера` (кнопки `Одобрить`, `Отправить на доработку`, `Отклонить`, отображение результата).
  7. `Задачи Bitrix24` (кнопка `Перейти к задачам`) и `Документы Bitrix24` (кнопка `Перейти к документам`).
- **Футер**: кнопки по ролям внутри портала ограничены автором (`Редактировать`), участником (`Вступить в команду`), стейкхолдером (`Одобрить/Отклонить/Доработка`). Для координатора отображаются только ссылки на Bitrix24/административную доску; действия выполняются во внешней CRM.
- **Вариации по ролям**:
  - Автор: плашка `Мои документы`, кнопка `Открыть задачи в Bitrix24` после одобрения.
  - Участник: кнопка `Вступить в команду`/плашка `Вы в команде`, доступ к блоку `Заявки в команду`.
  - Координатор: только просмотр состава и кнопка `Открыть в Bitrix24`.
  - Стейкхолдер: карточка решения + быстрые ссылки `Перейти к задачам/документам`.

### 4.3 Роль: автор идеи
- Блок `Мои документы`: список загруженных файлов с кнопкой `Добавить файл`.
- Кнопка `Редактировать идею` (доступна в статусах Черновик, На доработке).
- Индикатор `Есть новое решение/комментарий` с ссылкой на соответствующий блок страницы.
- После одобрения — кнопка `Открыть задачи в Bitrix24`.

### 4.4 Роль: участник (не автор)
- Блок `Команда`: список ролей (иконка роли, ФИО участника, статус заполненности).
- Кнопка `Вступить в команду` → открывает модальное окно (см. ниже). Если участник уже принят, кнопка меняется на плашку `Вы в команде (роль <роль>)` + кнопка `Открыть рабочее пространство` (уточняется при дальнейшей проработке).
- Доступ к блоку `Заявки в команду` (единая лента).

### 4.5 Роль: стейкхолдер
- Карточка `Решение`: кнопки `Одобрить`, `Отправить на доработку`, `Отклонить`. После выбора отображается результат (статус, комментарий) и кнопка `Изменить решение` (если доступно политикой).
- Кнопки `Перейти к задачам`, `Перейти к документам` (активны после «Одобрена»).

### 4.6 Роль: координатор
- В портале координатор видит только сводную информацию (состав команды, статусы заявок) и ссылки на Bitrix24/административную доску.
- Любые действия (`Назначить`, `Удалить`, работа с заявками) выполняются в CRM Bitrix; внутри карточки отображается кнопка `Открыть в Bitrix24`.

### 4.7 Роль: модератор
- Только просмотр: модератор использует Bitrix24 для решений; в карточке идеи отображаются метки изменений из Bitrix без дополнительных кнопок.

### 4.8 Модальное окно «Вступить в команду»
- Поля: dropdown `Целевая роль` (значения `Тимлид`, `Аналитик`, `Разработчик`, `Тестировщик`, `Коммуникационный специалист`, `Эксперт/Ментор`, `Дизайнер`, `DevOps/Инженер внедрения`), мультиселект `Уровень компетенции (Junior/Middle/Senior/Expert)`, textarea `Опыт/успехи`, загрузка портфолио, чекбокс `Согласен с правилами участия`.
- Кнопки: `Отправить заявку`, `Отмена`. Подсказка «Автор и координатор получат уведомление».

## 5. Модали и уведомления
- (Блок «Поделиться» не используется; распространение ссылки осуществляется стандартными средствами браузера).
- **Модальное окно «Запросить уточнение»** (координатор): поле вопроса, кнопки `Отправить`, `Отмена`.


## 6. Личный кабинет участника

### 6.1 Общие элементы
- Хедер `Личный кабинет`, иконка уведомлений, поиск по заявкам.
- Боковое меню: `Профиль`, `Заявки`, `Сообщения`, `Обучение (заглушка)`, `Поддержка`.

-### 6.2 Вкладка «Мои идеи**
- Фильтры-чипсы по статусам (`Черновик`, `На модерации`, `На доработке`, `На рассмотрении`, `Одобрена`, `Отклонена`, `Архив`).
- Карточка идеи: название, компактный индикатор статуса (цветная точка + подпись), бейдж дедлайна (`Сегодня`, `Скоро`, `Просрочено`), индикатор `+N` и кнопка `Подробнее`.

### 6.3 Вкладка «Заявки в команду»
- Подвкладки `Все / Входящие / Отправленные / Моя команда / Архив`.
- **Карточка заявки (унифицированная)**:
  - Левая часть: аватар, ФИО, бейдж роли (`Тимлид`, `Аналитик`, `Разработчик`, `Тестировщик`, `Коммуникационный специалист`, `Эксперт/Ментор`, `Дизайнер`, `DevOps/Инженер внедрения`), статус (`На рассмотрении`, `Принята`, `Отклонена`, `Архив`), дата/время.
  - Центральный блок: мотивационное сообщение/комментарий (2 строки), теги компетенций.
  - Правая часть: кнопки `Принять`, `Отклонить`, `Подробнее` (только для автора идеи). Для координатора отображается кнопка `Открыть в Bitrix24`; он действует через CRM. У участника доступна кнопка `Отозвать`.
  - Доп. элементы: кнопка `Открыть профиль`, иконка вложения (портфолио), индикатор `Обязательная роль` (если закрывает пустой слот).
- Блок `Моя команда`: карточки ролей (иконка роли, участник, кнопка `Удалить`/`Назначить`).
- Кнопка `Подать заявку` → открывает выбранную идею и модальное окно «Вступить в команду».

### 6.4 Вкладка «Уведомления»
- Хедер вкладки: заголовок, переключатель `Непрочитанные / Все`, кнопка `Фильтры`.
- Фильтры: чипсы `Идеи`, `Команда`, `Bitrix`, `Системные`.
- Карточка уведомления (одна строка):
  - Иконка события + бейдж `Новое` (значения: `Новое`, `Просмотрено`).
  - Блок текста: заголовок (`Модератор вернул идею «Название»`) и короткое описание/причину.
  - Метаданные справа: только время и (при необходимости) текстовый маркер дедлайна (`Срок завтра`, `Просрочено`). Бейджи статуса события и роли источника убраны для минимизации перегрузки.
  - Действия: кнопка `Открыть`, иконки `✓` (прочитано) и `…` (минимальное меню: `Удалить`, `Закрепить`).
- Выбор нескольких уведомлений (чекбоксы) и кнопка `Отметить выбранные прочитанными`.
- Лэйзи-загрузка: при прокрутке вниз подгружаются новые уведомления без кнопок управления.

### 6.5 Вкладка «Профиль»
- Поля редактирования: аватар (кнопка `Загрузить`), ФИО, организация, должность, контакты (телефон, e-mail), интересы/роли, настройка уведомлений (чекбоксы `E-mail`, `Push`).
- Кнопка `Сохранить`, линк `Сменить пароль`.
- Кнопка `Открыть задачи в Bitrix24` (доступ появляется после участия в одобренной идее).

## 7. Личный кабинет стейкхолдера

-### 7.1 Общая навигация
- Вкладки: `Мои запросы`, `Портфель одобренных идей`, `Уведомления`, `Административная доска`.
- Индикатор `+N` на табе «Мои запросы», если есть новые идеи.

### 7.2 Вкладка «Мои запросы»
- Грид минималистичных карточек:
  - Верх: название запроса + индикатор `+N` (новые идеи/комментарии), круглый индикатор статуса (`На сборе идей`, `Закрыт`).
  - Средний блок: строка «Направление: <значение>` и бейдж дедлайна (`Сегодня`, `В ближайшие 7 дней`, `Просрочено`), одна строка с кратким описанием.
  - Нижний блок: две подписи — `Идей всего: N` и `Новые: N+`, а также мини-кнопки `Редактировать`, `Закрыть`, `Подробнее`. Быстрые действия по идеям (`Одобрить`, `Доработка`, `Отклонить`) доступны после открытия карточки запроса, где отображается список связанных идей.
- Внутри карточки запросов блок `Комментарии` заменяет отдельные «Примечания координатора»: все сообщения координатора, модератора и стейкхолдера отображаются в одной ленте.

-### 7.3 Вкладка «Портфель одобренных идей»
- Представление по стадиям: колонны `Одобрена`, `Готово к ПК`, `Готово к НТК`.
- Карточка (минималистичная):
  - Верх: название, маленький бейдж стадии (`Одобрена` / `Готово к ПК` / `Готово к НТК`), индикация `+N` при наличии новых событий.
  - Средний блок: краткое описание (до 2 строк) и строка «Запрос: <название>».
  - Нижний блок: компактные текстовые подписи «Команда: заполнено X обязательных ролей» и «Просрочено задач: нет данных» (позже подключится интеграция). Бейджи `Риск` и другие отчётные индикаторы с Bitrix временно убраны, чтобы не требовать сложной синхронизации.
  - Действия: две кнопки `Перейти к задачам` и `Перейти к документам`. Остальные переходы вынесены во вкладку «Административная доска».

### 7.4 Вкладка «Административная доска»
- Отдельный экран с описанием и кнопкой `Открыть административную доску` (Bitrix); тултип «Канбан задач стейкхолдера/координатора`. С портфеля кнопка убрана, чтобы не дублировать переход.

### 7.5 Вкладка «Уведомления»
- Повторяет ленту участника, но добавлены фильтр `Административная доска` и бейдж `Запрос`.
- Карточка: иконка, заголовок (`Новая идея по запросу` / `Готово к ПК`), краткий текст, бейдж запроса (содержит текстовое название запроса), время.
- Действия: `Открыть`, `Перейти к административной задаче` (для триггеров доски), меню `…`.
- Счётчик `+N` на карточках «Новая идея» и индикатор дедлайна для событий `Просрочена задача Bitrix`.

## 8. CRM модератора

-### 8.1 CRM модератора (Bitrix24)
- Все операции модерации (фильтрация, проверка, публикация/возврат, комментарии) выполняются во внешней CRM Bitrix24. В портале отображаются только ссылки на соответствующие разделы и статусные метки; дополнительных UI-элементов для модератора нет.

## 9. CRM координатора (Bitrix24)

- Координатор выполняет все действия в готовой CRM Bitrix24 (виды вкладок «Команды идей», «Кандидаты», «Журнал» и т.п. находятся там).
- В портале отображается только обобщённый блок с составом команды, статусами заявок и ссылкой `Открыть CRM Bitrix24`.
- Кнопок управления на портале нет; любые приглашения, назначения и решения координатор делает в Bitrix24. Вся активность синхронизируется с административной доской и журналами.

## 10. Административная канбан-доска

### 10.1 Общая структура
- Колонки: `Новая`, `В работе`, `Ожидает данных`, `На согласовании`, `Готово`.
- Карточка задачи: заголовок («Проверить новую идею...»), кнопка `Открыть сущность` (идея/запрос/команда), чек-лист по шагам, исполнитель, дедлайн, статус, комментарии.
- Фильтры по ролям (Стейкхолдер, Координатор, Модератор).

### 10.2 Автоматические карточки (согласно `admin-board-table.md`)
- Примеры:
  - `Проверить новую идею и подготовить решение по публикации` (исполнитель — модератор, чек-лист «Проверить заполненность → Сверить критерии → Задокументировать решение»).
  - `Настроить рабочую область Bitrix24 и запустить приглашения команды` (координатор).
  - `Подобрать кандидата и закрыть обязательную роль` (координатор).
  - `Контролировать доработку автором и повторную подачу` (стейкхолдер).
  - `Проверить готовность и утвердить переход на ПК/НТК` (стейкхолдер).

## 11. Разделы Bitrix24 (внешние переходы)

### 11.1 Канбан задач идеи
- Колонки: `Новая`, `В работе`, `На проверке`, `Возврат`, `Готово`.
- Карточка: название задачи, описание, чек-листы, участники (исполнитель/наблюдатель), дедлайн, вложения, комментарии, индикатор `Просрочено`.
- Кнопки: `Добавить подзадачу`, `Добавить чек-лист`, `Перейти к документам`.

### 11.2 Диск идеи
- Структура папок: `/Требования`, `/План`, `/Прототипы`, `/Тесты`, `/ПК-НТК`, `/Отчёты`, `/Коммуникации`.
- В каждой папке — стартовые шаблоны (пример: `requirements-template.docx`, `plan-template.xlsx`, `prototype-log.md`, `testing-report-template.docx`, `committee-package-checklist.md`, `final-report-template.docx`, `communications-plan-template.docx`).
- Панель действий: `Загрузить`, `Создать`, права доступа (Полный — координатор, Просмотр — стейкхолдер, Ограниченный — участник по роли). Возможность шаринга управляется через Bitrix24 и не вынесена в UI портала.

### 11.3 Гайды и чек-листы
- Корень рабочей области: `README-по-команде.md`, `onboarding-checklist.md`.
- Папка `/План`: `task-guide.txt`, `quality-guide.md`.
- Папка `/Коммуникации`: `collaboration-guide.md`, `mentoring-notes.md`.

## 12. Экран уведомлений (универсальный компонент)
- Структура карточки уведомления: иконка типа, заголовок (`Модератор вернул идею`), короткий текст, время, кнопка `Перейти`.
- Фильтры по ролям (для ЛК участника/стейкхолдера), переключатель `Непрочитанные/Все`.
- Настройки доставки: чекбоксы `E-mail`, `Push`, `Лента` (в профиле пользователя).

## 13. Справочная информация в интерфейсе
- Всплывающие подсказки (tooltip) на статусах и бейджах: `+N` → «Новые идеи/обновления, которые вы ещё не просмотрели»; бейдж стадии → «Готово к ПК: комплект документов сформирован и ждёт подтверждения». 
- Системные сообщения об ошибках: «Не удалось загрузить файл. Допустимые форматы: PDF/DOCX/XLSX до 10 МБ», «Заполните обязательные поля».

---

Документ служит расширением базового описания интерфейсов и должен синхронизироваться с макетами UI-kit и спецификациями Фазы 2.

# Описание интерфейсов (структурированный формат)

## Главная витрина
- **Верхний хедер:** пункты «Банк инноваций», «Конкурсы», заглушки «Медиасентр» и «Обучение», кнопка входа/аватар.
- **Блок «Как принять участие?»**: две карточки с CTA «Стать участником» и «Подать заявку».
- **Промо-блок «Стать участником»:** ведёт на регистрацию.

## Банк инноваций
- **Панель фильтров:** статус, направление, автор, поисковая строка, сортировка.
- **Карточка запроса:** отображается в списке на странице «Банк инноваций», включает направление, статус-чип (Активен/Закрыт), краткое описание, дедлайн, счётчик идей и кнопку «Подробнее».
- **Кнопка «Подать идею»:** появляется для активных запросов и авторизованных участников; ведёт на страницу соответствующего запроса.

## Страница запроса
- **Основные разделы:** проблема, критерии отбора, ожидаемый результат, сроки приёма идей, вложения стейкхолдера.
- **Представление пользователя (публичное/участник):** шапка с направлением, статусом (Активен/Закрыт), дедлайном, кратким описанием; ниже — список связанных идей (карточки идей) и кнопка «Подать идею» при активном запросе.
- **Представление стейкхолдера:** дополнительные вкладки «Идеи» (таблица: Автор, Статус, Дата обновления, Примечание координатора), «История» (журнал изменений, решения стейкхолдера, обновление дедлайна), кнопки **«Редактировать запрос»**, **«Закрыть запрос»**; в таблице — кнопка **«Открыть карточку идеи»** и индикатор новых идей.

## Создание идеи
- **Поля формы:** заголовок, описание, ожидаемый эффект, вложения, согласие с правилами.
- **Доступные действия:** «Сохранить черновик», «Отправить на модерацию», «Отмена».

## Карточка идеи на странице запроса
- **Состав:** направление, статус, автор, краткое описание, дата обновления, кнопка «Подробнее».
- **Представление автора (в разделе «Мои идеи»):** отображается бейдж статуса модерации, иконка наличия комментариев, быстрые действия «Редактировать» (до статуса «На рассмотрении») и «Просмотреть историю».
- **Представление стейкхолдера (в портфеле одобренных идей):** добавляется бейдж стадии («Одобрена», «Готово к ПК», «Готово к НТК»), кнопки **«Перейти к задачам»** и **«Перейти к документам»**; при статусе «Одобрена» доступна ссылка на канбан конкретной идеи.
- **Представление участника (не автора):** если идея в статусе «Одобрена», показывается кнопка **«Вступить в команду»**, открывающая модальное окно подачи заявки, и блок «Команда» с текущими участниками и их ролями.

## Страница идеи
- **Публичная часть (доступно всем):** шапка с направлением, статусом, заголовком, ссылкой на запрос; вкладки «Описание» и «Комментарии» (только чтение), блок вложений, блок «Команда» (только просмотр).
- **Представление автора:** блок «Мои документы» (список загруженных файлов), ссылка на «Редактировать идею» (если статус позволяет), индикатор обратной связи от стейкхолдера/координатора, кнопка «Открыть задачи в Bitrix24» после перевода в «Одобрена».
- **Представление участника (не автора):** если идея в статусе «Одобрена», доступна кнопка **«Вступить в команду»**, открывающая модальное окно с полями заявки (целевая роль, компетенции, комментарий); блок «Команда» показывает текущий состав и статусы входящих заявок.
- **Форма заявки:** модальное окно: dropdown «Целевая роль» с предустановленными позициями (Тимлид, Аналитик, Разработчик, Тестировщик, Коммуникационный специалист, Эксперт, Ментор, Дизайнер, DevOps/Инженер внедрения); мультиселект «Уровень компетенции» (Junior, Middle, Senior, Expert); поле «Опыт/успехи» (textarea), загрузка портфолио/резюме (опционально). Подтверждение заявки и чекбокс согласия с правилами (контактные данные подтягиваются из профиля автоматически); кнопки «Отправить заявку»/«Отмена». Ошибки подсвечиваются inline, успешная отправка показывает баннер и перемещает заявку во вкладку «Отправленные».
- **Представление стейкхолдера:** блок «Решение» с кнопками **«Одобрить»**, **«Отклонить»**, **«Отправить на доработку»**, история принятия решений, ссылки на административные задачи и Bitrix-доску, журнал действий, кнопки **«Перейти к задачам»** и **«Перейти к документам»** (активны при статусе «Одобрена»).
- **Набор вкладок:** «Описание» (основной контент), «История» (статусы, комментарии, действия), «Комментарии» (обмен сообщениями между участником, координатором, стейкхолдером), «Вложения» (детализированный список файлов автора, пометки о доступе).

## Личный кабинет участника
- **Меню:** «Мои идеи», «Заявки в команду», «Профиль».
- **Вкладка «Мои идеи»:** фильтры по статусам (Черновик, На модерации, На доработке, На рассмотрении, Одобрена, Отклонена, Архив), карточки с быстрыми действиями.
- **Вкладка «Заявки в команду»:** фильтры (Все, Входящие, Отправленные, Моя команда, Архив), карточки заявок, кнопки «Принять/Отклонить/Подробнее», блок «Моя команда»; форма подачи новой заявки доступна только из страницы одобренной идеи.
- **Задачи:** кнопка «Открыть задачи в Bitrix24» (схема ведётся в CRM).
- **Профиль:** аватар, ФИО, организация, роли, контакты, смена пароля, дополнительные поля по роли.

## CRM модератора — пользовательские истории
1. Модератор видит список идей «На модерации», открывает карточку и изучает заполненную форму и вложения.
2. Принимает решение: опубликовать для стейкхолдера, вернуть на доработку с перечнем замечаний или отклонить.
3. Фиксирует комментарий, статус и прикрепляет историю в журнал идеи.

## Личный кабинет стейкхолдера
- **Вкладка «Мои запросы»:** таблица запросов (Название, Статус, Дедлайн, Количество идей, Дата обновления) с фильтрами по статусу, направлению, наличию новых идей.
- **Карточка запроса:** блок деталей запроса + таблица идей (Автор, Статус, Дата обновления, Комментарии координатора); действия **«Одобрить»**, **«Отклонить»**, **«Отправить на доработку»** (при доработке появляется модальное поле причины).
- **Вкладка «Портфель одобренных идей»:** представление в виде гридов по стадиям «Одобрена», «Готово к ПК», «Готово к НТК».
- **Карточка одобренной идеи:** раздел «Обзор» + кнопки **«Перейти к задачам»** (открывает Проекты Bitrix24), **«Перейти к документам»** (открывает Диск Bitrix24), **«Перейти к задачам идеи»** (ссылка на канбан конкретной идеи); кнопки активны только для статуса «Одобрена».
- **Панель действий стейкхолдера:** отдельная кнопка «Перейти к административной доске» — открывает административную канбан-доску для просмотра общих задач (не привязана к конкретной идее), рядом указана ссылка на таблицу административных задач.
- **Журнал событий:** фиксирует решения стейкхолдера, отправку на доработку с причиной, изменение стадий.

## Bitrix24 (внешние разделы)
- **Канбан-задач:** статусы задач, чек-листы, комментарии.
- **Диск идеи:** папки «Требования», «План», «Прототипы», «Тесты», «ПК/НТК», «Отчёты».

## Уведомления
- **Каналы:** e-mail, push, внутренние сообщения.
- **События:** изменения статуса идеи, решения стейкхолдера, заявки в команду, обновления задач и документов (см. docs/notification-table.md).

## Административная канбан-доска
- **Колонки:** Новая, В работе, Ожидает данных, На согласовании, Готово.
- **Видимость:** каждая роль видит только свои задачи.
- **Карточка задачи:** заголовок, связанная сущность (запрос/идея/команда), дедлайн, чек-лист и комментарии; кнопка «Открыть карточку» для перехода к сущности.
- **Создание:** автоматически по триггерам или вручную координатором/модератором/стейкхолдером.

## CRM координатора — пользовательские истории
1. Координатор открывает «Команды идей», видит все одобренные идеи, фильтрует по незаполненным обязательным ролям и запускает приглашения.
2. Просматривает карточку кандидата (контакты, компетенции, история участия) и отправляет приглашение; приглашённый участник видит заявку в своём личном кабинете.
3. Обрабатывает входящие заявки участников: принимает, отклоняет или запрашивает уточнение с комментарием.
4. Отмечает закрытие обязательных ролей и контролирует выполнение через административную канбан-доску.

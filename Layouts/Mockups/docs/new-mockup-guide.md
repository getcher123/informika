# Гайд по созданию новых HTML-макетов страниц

Документ описывает унифицированный процесс подготовки новых статических макетов в каталоге `Layouts/Mockups`. Следуя этим шагам, вы получите файл, полностью совместимый с Bitrix-шаблонами и существующим UI Kit.

## 0. Карта документов

- `../UNIFICATION_GUIDE.md` — единые правила по сеткам, отступам, карточкам, таблицам, градиентам и компонентам.
- `../ui-kit.html` — визуальные примеры компонентов и каркасов.
- `../../Templates/bitrix/requirements-template.md` — **опционально** для новых функций/интеграций, когда нужно зафиксировать цели и требования.
- `../../scripts/render-mockups.js` — рендеры макетов в 320/768/1024/1440 для визуального контроля.

## 1. Что подготовить заранее

1. Ознакомьтесь с:
   - `../html-mockup-requirements.md` — базовые требования к HTML/CSS/JS.
   - `../UNIFICATION_GUIDE.md` — договорённости по отступам, табам, карточкам, таблицам и градиентам.
   - `../ui-kit.html` — визуальные и кодовые примеры UI-элементов.
   - `../README.md` — список актуальных страниц/макетов.
2. Определите назначение страницы и составьте список блоков (хедер, фильтры, карточки, формы, модальные окна и т.д.).
3. Создайте Figma- или изображение-референс (если его нет) и отметьте точки адаптива: 320 / 768 / 1024 / 1440.

## 2. Структура файлов и нейминг

1. Копируйте ближайшую по смыслу страницу и переименуйте файл (например, `my-reports.html`).
2. Всегда подключайте общий набор стилей и скриптов:
   ```html
   <link rel="stylesheet" href="./assets/css/base.css">
   <link rel="stylesheet" href="./assets/css/layout.css">
   <link rel="stylesheet" href="./assets/css/components.css">
   <link rel="stylesheet" href="./assets/css/pages/<page>.css">
   ...
   <script src="./assets/js/vendor.js"></script>
   <script src="./assets/js/app.js"></script>
   ```
3. Для страницы создайте отдельный CSS-файл в `assets/css/pages/`. Имя = имени HTML (например, `assets/css/pages/my-reports.css`).
4. Если нужен JS, заведите файл в `assets/js/` (по аналогии с `requests.js`, `idea.js`) и подключите его внизу страницы.
5. Если компонент используется на нескольких страницах — оформляйте его в `components.css` и добавляйте пример в `ui-kit.html`.

## 3. Каркас страницы

1. DOCTYPE и `<html lang="ru">` всегда обязательны.
2. В body используйте модификаторы:
   - `body--gradient` для внутренних экранов (ЛК участника/стейкхолдера, формы авторизации).
   - `main--with-gradient` внутри, чтобы контент оставался прозрачным поверх градиента.
   - Специфические классы (например, `profile-page`) — только если нужна дополнительная стилизация.
3. Верхняя часть:
   - Всегда используйте общий `<header class="header layout__header">` с контейнером `.container`.
   - Не меняйте структуру логотипа и меню, меняйте только навигационные ссылки/активный пункт.
4. Основной контент:
   - Оборачивайте всё в `<main class="main layout__main">`.
   - Для страниц кабинета используйте `<div class="sidebar-layout">` + `sidebar layout` + `content-card sidebar-layout__content`.
   - Публичные страницы используют обычные `.section` / `.card`.
5. Футер (если требуется) копируйте с уже готовых страниц.

## 4. Работа со стилями

1. Общие отступы, цвета, градиенты берите из CSS-переменных (`base.css`).
2. Сетки/контейнеры — из `layout.css`, компоненты (карточки, табы, фильтры, поисковая строка, бейджи, таблицы, статистика) — из `components.css`.
3. В файле страницы оставляйте только специфические правки:
   - Переопределения ширин/высот.
   - Уникальные фоновые иллюстрации.
   - Сетки, которых нет в UI Kit.
4. Детальные правила отступов, кнопок, хедера/футера и каркасов страниц поддерживаются в [`UNIFICATION_GUIDE.md`](../UNIFICATION_GUIDE.md). Там указаны расстояния между секциями, порядок блоков, обязательные классы (`body--gradient`, `sidebar-layout`, `detail-layout`, `table-wrapper`, `stat-cards` и т.д.).
5. Избегайте жёстких значений в `px`, используйте `rem` и переменные.

## 5. Подключение компонентов и UI-паттернов

При добавлении новых блоков сверяйтесь с `ui-kit.html` и [`UNIFICATION_GUIDE.md`](../UNIFICATION_GUIDE.md). Если компонента нет — сначала добавьте его в UI Kit, задокументируйте классы, только затем используйте на страницах.

## 6. Требования и чек-лист

Перед отдачей страницы убедитесь, что выполнены все пункты:

1. **Структура**
   - Файл лежит в корне `Layouts/Mockups/`, стили/скрипты — в соответствующих подпапках.
   - Подключены только относительные пути (`./assets/...`).
2. **HTML**
   - Семантичные теги, BEM-нейминг, отсутствие inline-стилей/скриптов.
   - Все формы имеют label/placeholder/aria-атрибуты.
   - Ссылки/кнопки имеют корректные `href`, `type`, `aria-label`.
3. **CSS**
   - Цвета/градиенты из переменных (`--gradient-bg`, `--color-primary` и т.д.).
   - Никаких глобальных переопределений (`div {}`).
   - Состояния `:hover`, `:focus`, `:disabled` прописаны для интерактивных элементов.
   - Таблицы оборачиваются в `.table-wrapper`, статистика — через `.stat-cards`/`.weekly-stats`.
4. **JS**
   - Весь код в отдельных файлах, инициализация на `DOMContentLoaded`.
   - Компоненты переключаются через добавление/удаление классов (`is-active`, `is-open`).
5. **Адаптив**
   - Проверены брейкпоинты 320/768/1024/1440 (можно приложить скриншоты).
   - Бургер-меню, модальные окна и табы работают на touch.
6. **Доступность**
   - Контраст текста/кнопок не ниже WCAG AA.
   - Навигация по Tab не ломает верстку, фокус видим.
   - Иконки имеют `aria-hidden="true"` или `aria-label`, где нужно.
7. **Унификация**
   - Применены правила отступов/градиентов/компонентов из `UNIFICATION_GUIDE.md`.
   - Новые элементы задокументированы в `ui-kit.html` (в соответствующей группе), если они общие.
8. **Рендеры**
   - После каждого изменения или нового макета делайте рендеры 320/768/1024/1440 через `scripts/render-mockups.js`.
   - Скриншоты храните локально в `Layouts/Mockups/renders/<page>` (не коммитятся).
   - Зафиксируйте замечания, внесите правки и повторите рендер.
9. **Ведение чек‑листов**
   - Отмечайте пункты по факту выполнения, обновляйте статус после каждой итерации.

## 7. Финальная поставка

1. Прогоните локальный `npm run lint` / `stylelint` (если настроено).
2. Убедитесь, что `git status` чистый либо содержит только нужные файлы.
3. Добавьте в `README` список новых страниц (если их ранее не было).
4. Передайте заказчику:
   - HTML-файлы.
   - CSS/JS (минификация по договоренности).
   - Документацию (этот чек-лист + список зависимостей).
   - Скриншоты ключевых разрешений.

Следование этому гайду гарантирует, что новый макет сразу попадёт в общую систему компонентов и не потребует дополнительных доработок перед интеграцией.
